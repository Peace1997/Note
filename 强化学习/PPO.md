## 一、简述

## 二、重要性采样

### 先导知识
对于一个随机变量，我们通常用**概率密度函数** f (x) , 来刻画该变量的概率分布 p 特性。
具体来说，给定随机变量的一个取值 x，可以根据概率密度函数来计算该值对应的概率 (密度)。  x $\rightarrow$ f (x)
反过来，也可以*根据概率密度函数提供的概率分布信息来生成随机变量的一个取值*，这就是**采样**。 x ~ p
因此，从某种意义上来说，采样是概率密度函数的逆向应用。与根据概率密度函数计算样本点对应的概率值不同，采样过程往往没有那么直接，通常需要根据待采样分布的具体特点来选择合适的**采样策略**。

### 概率密度函数的期望值





Critic 网络：
拟合状态值函数，


**为什么需要 Critic 网络而不是采用奖励？**
Critic 网络用于判断当前状态在未来中可能获得的价值（累积奖励），奖励通常是衡量当前状态下的及时奖励，无法判断当前状态在未来中是否是好的，因此通过 Critic 网络评判状态的好坏会更加合理。

优势函数是正的就增大概率，如果是负的就减小概率。


Policy：
$$
L\left(s, a, \theta_{k}, \theta\right)=\min \left(\frac{\pi_{\theta}(a \mid s)}{\pi_{\theta_{k}}(a \mid s)} A^{\pi_{\theta_{k}}}(s, a), \quad \operatorname{clip}\left(\frac{\pi_{\theta}(a \mid s)}{\pi_{\theta_{k}}(a \mid s)}, 1-\epsilon, 1+\epsilon\right) A^{\pi_{\theta_{k}}}(s, a)\right)
$$
Value ：
