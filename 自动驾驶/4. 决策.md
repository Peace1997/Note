
# 一、 行为决策

## 简述

**简述**：无人车通过车辆传感器感知到交通环境信息，考虑行驶区域、动静态障碍物以及车辆汇入和让行规则，与无人驾驶行为库中的各种决策知识、经验相匹配，进而选择合适当前道路交通环境的驾驶行为。行为决策模块在**宏观**上决定了无人车如何行驶。

**任务：** 权衡所有的输入信息，做出有效和安全的决策；这些原始的输入包括路径规划模块的输出、无人驾驶车辆自身的属性、无人驾驶车辆历史信息、周围的障碍物信息、交通和地图信息、当地的交通规则。行为决策包括行驶、 跟车、转弯、换道和停车等。

驾驶行为决策后，其结果交给运动规划模块，运动规划模块与行为决策功能模块紧密协调配合，进行纵向的轨迹规划和横向的速度规划。

**行为决策方式**：基于规则的行为决策方法 和 基于强化学习的行为决策方法。



### 3.2 基于规则的行为决策方法

**简述**：基于规则的行为决策方法主要按场景划分，其核心思想是利用**分治原则**，将车辆周边环境分解成有层次的场景并单独解决。在单个场景中，根据本车道的车辆数据、道路基础设施和道路目标物数据，以及交通运行数据和用户出行要求等信息，运用对应的规则对汽车的驾驶行为及其参数进行决策。再将划分的单个场景的驾驶行为决策进行综合，得出最后综合的行为决策。

**评价**：基于规则的行为决策方法易于搭建和调整、实时性好、应用简单，但是该模型忽略了环境的动态性和不确定性，此外，当驾驶场景较多时，状态的划分和管理比较繁琐，多适用于简单的场景下。



### 3.3 基于强化学习的行为决策

**简述**：用于描述和解决智能体与环境的交互过程中，通过学习策略迭代，经验回放，损失函数设计，以达成回报最大化或实现特定目标的问题。

**马尔可夫决策**：强化学习的研究都是建立在马尔可夫决策过程基础上。马尔可夫决策模型提供了一个最底层的数学架构，用于面对部分条件随机情况，或者部分条件可由决策者控制的情况下进行决策。

> **马尔可夫决策过程**是指决策者周期性地或连续性地去观察具有马尔可夫性的随机动态系统，依据时间先后做出决策， 即根据每个时刻观察到的状态，从可用的行动集合中选用一个行动做出决策，系统在将来时间的状态是随机的，并且系统状态转移的概率具有马尔可夫性。

**评价**:传统的基于规则的行为决策系统，往往只能采取非常保守的驾驶策略，需要认为设计精细的规则用来应对复杂情况，且传统的方法忽视了车辆之间、车辆与行人之间的互动性。而强化学习可以从人类的驾驶样本中学习相应的的策略决策，并能将决策泛化到类似的驾驶情景中。不过深度强化学习难以解释，一旦系统发生故障无法进行针对性的改进，而人为构建选项图之后，每个决策细分为对应动作，再由神经网络控制，决策的整个推理过程的可解释就增强了。



# 二、 异常处理

**简述**：作为预留的智能驾驶系统安全保障机制，

- 一方面是在遇到不平、复杂路面，易造成车辆机械部件松动、传感部件失效等问题时，通过预警和容错控制维持车辆安全运行；
- 另一方面是在决策过程中，由于某些参数设置不合理，推理规则不完备等因素导致智能车在行为动作中重复出现某些错误并陷入死循环时，能够建立错误修复机制使智能汽车自主地跳出错误死循环，朝着完成既定任务的方向继续前进，以减少人工干预来解决问题。

**技术方法**：

- 建立**专家系统**，就智能汽车交叉路口通行时出现的错误状态的表现与成因进行分析、定义与规则描述，制定判断动作失败的标准；
- 研究**自适应错误修复算法**，对各错误状态的成因进行分类，并相应的制定调整策略，以产生新的动作序列。

