研究背景是什么：为什么要做这个事
**简述**：做了个什么事？怎么做的？
视觉感知 + 轨迹规划 + 运动控制

腾讯自研的多模态四足机器人：Max二代，采用原创的腿轮一体的本体设计，通过地形识别、行动轨迹规划和动作控制三大模块，Max二代能在梅花桩上完成快速行走、旋转踏步、单桩跳跃、双轮站立、前空翻下桩等高难度动作。

### 地形识别与定位
在上桩之前，系统并不会给Max配备先验地图，也就是每次它面对的都是未知的地图。因此第一步需要做的就是识别地形，感知自己和梅花桩的位置，以便为后面的轨迹规划做准备。
Max身上配备了单⽬RGB 摄像头、惯性传感器（IMU）、深度传感器等多种设备，所有传感数据融合在一起获得高质量的环境数据。

**难点**：
- Max 具有速度快、步频⾼、⼒冲击⼤等特点，这会使得各种传感器数据出现大量噪声，引发干扰。
- 在跳等动作的持续力冲击下，深度传感器就会出现拖影现象。
**解决方法**：
引⼊了一个**统计分布策略**，它能在⾼效过滤错误地形信息的同时，保留精确的有效地形区域结果，估计出桩⾯中⼼相对于机器⼈的精准位置，在⼀定程度上也能缓解梅花桩晃动带来的⼲扰。
**实现效果**：
Max做到了地形识别精度⼩于2cm、视觉定位累积误差⼩于1%。

### 规划最优行动轨迹
看准地形后，下⼀步 Max 要根据所见信息完成动作轨迹规划，
**难点**：
最大的难点是如何在快速穿越的过程中，保证**实时**规划出**最优**的路线。
**解决方法**：
6D最优轨迹⽣成技术：除了X、Y、Z轴上的位置数据，还包括机器狗需要做出的偏航、俯仰和滚动维度的信息
生成技术可根据Max的运动步态、速度等指令，预估落脚点，并根据落脚点周边的地形⾼度图，选出最优的点，也就是桩面中心。
此外，系统还会结合最优点，考虑Max运动过程中的动⼒学约束、摩擦约束、⾜端⼯作空间约束等，进行⼆次优化，实时求解真正的最优6D轨迹。

对于跳跃、空翻这类动作，Max还需要达到的一个目标是**省⼒**，即驱动⼒最⼩化。

这里就用到了一种**基于⾮线性优化的轨迹规划技术**。该技术可以兼容四脚跳（Pronking）和双脚跳（Bounding）等多样化步态，通过跳跃距离、跳跃步态、最⼤关节⼒矩等约束条件，得出结果

### 控制动作，按轨迹精准落点
动作轨迹规划好后，Max 跟踪参考轨迹，实现精准落点
**难点**：
- 如何控制恰到好处的力、按照规划轨迹实现精准落点
- 如何更好的完成高难度动作：
	- 空翻属于高动态，
	- 作揖、双轮站立属于易失稳；
	- 而对于单桩跳跃这个动作，机器狗的四⾜落脚点距离很近，⽀撑区域很⼩，收拢的腿部姿势也导致 Max的运动及发⼒空间受限，对力控的精度更是要求极高。
解决方法：
⾃研了一个模型预测控制算法，并给Max加⼊了基于关节⼒矩反馈的触地检测能⼒。

https://36kr.com/p/1862482393323399



首先需要进行实时的地形识别、建图，根据地形信息以及自身定位，规划适合的运动轨迹，并且能精准的踩点通行，从而适应高低起伏的地形

首先需要进行实时的地形识别、建图，利用建图的信息，根据梅花桩的位置结合自身定位，找到梅花桩的中心，然后根据足端触地的状态，进行质心轨迹规划，与柔顺控制。

根据地形规划适合的运动轨迹，自动调整俯仰、侧身与转向，从而适应高低起伏的地形。


视觉定位、地形识别、建图



**优缺点是什么**

固定地形（没有更换环境测试），外界物干扰，
> 用于生成步态还是完成控制任务？




可借鉴的：


#MPC 


**多模态**四足移动机器人 Max 二代
> 结构：机器人腿式与轮式运动模态

定位：自研的单目视觉惯性定位算法（视觉定位技术+地形识别技术） —— 定位、识、建图
规划：六维全向运动实时规划算法 —— 优化出包含位置与姿态的六自由度运动轨迹，来自动调整俯仰、侧身与转向
控制：自研的模型预测控制算法 —— 提高动作难度，窄小的桩面完成了快速行走、踏步旋转、单桩跳跃、双轮站立、空翻下桩木等一系列动作
> 自动调整俯仰、侧身与转向




任务完成：旋转踏步、单桩跳跃、双轮站立、单桩跳跃。


相较于第一代：在**视觉感知、轨迹规划、运动控制**等方面实现技术创新
> 实现了哪些创新


落脚点：桩面中心


论文：Chi et al., A Linearization of Centroidal Dynamics for the Model-Predictive Control of Quadruped Robots, ICRA 2022

**模型线性化**
研究背景：由于角运动（非线形运动）会给质心动力方程带来非线性的项，因此我们需要对方程进行线性化，从而推导出一个线性模型预测（model-predictive）运动控制器。因此作者提出了一种新的机器人质心动力学线性化方法。
方法：通过指数坐标表示角运动，识别并保留了比现有方法更多的线性项从而减少模型线性化的损失。基于此自研了一种模型预测运动（model-predictive control MPC）算法，在四足机器人的角运动跟踪中表现出了良好的性能。



centroidal dynamics：描述机器人的整体线性和角运动。通常用于腿式机器人的运动生成和控制。
基于这种模型，也就可以生成，具有摆手、扭腰等等丰富动作，能动态的保持平衡的全身运动轨迹



MPC算法