# 未知环境下多智能体的协作导航

multi-agent cooperative navigation problem (MCNP)
目标：无碰撞到达所有目标点的同时，尽可能减少消耗

#多机器人系统 #协同导航
## 简述
#### 多机器人协同导航关键词
#协同定位 #路径规划 #任务分配 #冲突协调

#### 目前痛点：
- 高效可靠的多机器人通信
- 更加智能的协调策略
- 机器人数量少
#协调策略 #通信 

#### 基本流程：
多机器人系统通过协同定位方法，获取当前各机器人的位置；通过任务分配对多机器人多任务进行最优化分配；然后通过路径规划方法完成被分配的相应任务。

#### 问题难点
- 目标点分配，即不同智能体前往不同的目标点
- 协作框架，如何利用已有信息或历史经验，构建合作框架
- 避免碰撞；动态障碍物（智能体）、静态障碍物
- 仿真到实体。



## 协同定位

## 路径规划

### 问题解决：
- 是否需要保持一定的编队（编队控制）
- 不同机器人到达相似的位置（规划冲突）

### 解决方法
- 耦合式路径规划
- 非耦合式路径规划


## 任务分配
组合优化问题
### 任务目标：
找到机器人与任务之间的最佳匹配，从而实现完成任务耗时最少，机器人整体移动路径长度最短，机器人团队总体能量消耗最低等。

### 解决方法
- 基于行为的分配方法
- 市场机制方法
- 群体智能方法




## 参考

### 论文1
**Han R et al. 提出了一种在动态环境下通过强化学习方法解决多智能体导航问题的方案，将目标位置分配和避免碰撞结合到训练过程中，以学习协作导航策略**

>Han R, Chen S, Hao Q. Cooperative multi-robot navigation in dynamic environment with deep reinforcement learning[C]//2020 IEEE International Conference on Robotics and Automation (ICRA). IEEE, 2020: 448-454.

贡献：
- 利用所有机器人的累积经验进行目标位置分配的协作架构
- 通过深度强化学习来训练目标位置分配以及碰撞躲避
- 开发了从模拟到真实的迁移机制，将训练好的策略更好地应用在真实环境中。

训练策略由所有智能体同时共享和更新
在仿真训练过程中开发了一组随机动力学模型，可以减少仿真和实体之间的不匹配。
**目标**：
多个智能体在动态环境以最小代价（时间）无碰撞的完成多目标点的导航。即在动态环境中，所有智能体通过分享和优化信息，最小化完成任务的时间，来得到最优的导航策略。
**总体策略**：
- 目标分配策略（组合优化）；首先将目标位置分配给每个机器人（实时变化）； 组合优化问题；计算机器人与目标点之间的分配方案的所有排列，找到总距离最短的排列
- 目标导航策略（RL）；每个智能体通过 策略（actor网络）根据获取的状态信息得到相应的动作，智能体执行动作，得到下一时刻状态，根据环境反馈的奖励以及Critic网络预测的价值来评判当前动作的好坏，以此指导actor网络的更新。

**状态**：
- 当前智能体状态（笛卡尔坐标系的位置、方向、速度）；
- 其他智能体状态
- 障碍物状态（从所有智能体的观测聚合而成）
- 目标位置
**动作**：
- 平移速度（transitional）和旋转速度（rotational）
**奖励：**
- 接近或到达目标点奖励





### 论文2
**Jin Y et al. 提出了一种交错深度强化学习方法(interlaced DRL)，同时学习动态目标选择策略和避碰策略来解决多机器人协作导航问题( multi-agent cooperative navigation problem MCNP)，多智能体在未知环境中不发生碰撞的情况下协同合作到达不同的目标点。**

>Jin Y, Zhang Y, Yuan J, et al. Efficient multi-agent cooperative navigation in unknown environments with interlaced deep reinforcement learning[C]//ICASSP 2019-2019 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP). IEEE, 2019: 2897-2901.


交错 RL 同时学习两个任务、
奖励函数不是启发方式，而是直接根据优化目标设定。







Lin J et al. 提出了一种融合约束满足函数(constraint satisfying parametric function CSPF) 的深度强化学习的端到端的策略方法，解决了未知复杂环境中有效地无碰撞地到达目标点的同时保持连通性的问题。

Lin J, Yang X, Zheng P, et al. Connectivity guaranteed multi-robot navigation via deep reinforcement learning[C]//Conference on Robot Learning. PMLR, 2020: 661-670.




**多智能体系统**：多个智能体通过在同一个环境中相互传递信息进而协同完成相应任务的计算系统，该系统可以通过设计相应的算法从而实现具体的任务。

**路径规划**：设计出安全且代价最小的路径
- 基于轨迹：A*、M*
- 基于速度：VO

**环境**：
- 整个环境是未知的，仅知道目标的位置。

**奖励函数设置**：
- 环境中还有未被探索到的点。
- 机器人自身状态
- 


**应用**：
智能辅助机器人（老年人）
救援机器人

优点:
- 方便直接应用在真实环境中