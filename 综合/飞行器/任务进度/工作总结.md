

```
群体智能协同制导控制研发工程师

岗位职责：  
1、充分理解研究对象特性与应用场景，负责智能协同制导控制方向算法设计，仿真训练环境构建及验证等技术研究；  
2、针对具体的协同制导、编队控制等业务需求，设计和优化实用的强化学习算法与模型；  
3、优化并改进相关智能协同制导控制算法，向复杂模型做迁移训练优化，提升智能算法的适应性；  
岗位要求：  
1、计算机、自动化、飞行器设计、人工智能等相关专业或研究背景的硕士及以上学历；  
2、在机器学习、深度学习、强化学习等方向具备扎实的理论和实践基础，保持对前沿技术追踪；  
3、扎实的编程基础，熟练掌握C/C++,Python等编程语言，熟悉常见的机器学习框架，如Pytorch,Tensorflow等，有一定的项目开发经验；  
4、有飞行器相关项目背景，控制算法、优化算法等相关技术研究背景优先；  
5、有良好的团队协作意识、良好的数学建模能力和英文阅读能力优先；


和我们这儿最相关的就是 北理钱杏芳  导弹飞行力学这本书
重点关注坐标系定义，角度定义以及转换关系，动力学与运动学方程，制导方法……

任务是：构建一个简化的飞行器仿真训练环境(不要求可视化)，能驱动智能算法进行训练，定义好输入输出，以多机编队或者协同制导任务进行算法的研究

```

研究路线
- [ ] 方向调研（协同制导 & 编队控制）
- [ ] 导弹飞行力学基础知识了解
- [ ] 仿真平台调研
- [ ] 仿真环境搭建
- [ ]  MDP 建模
- [ ] 算法融合训练

问题提问：
- 在基础知识方面，需要掌握基础的运动、动力学；在算法层面，在协同制导和编队控制中，一个重要关键知识就是多智能体系统的一致性问题。重点需要的关注的技术
- 制导和制导律概念
- 目标

下周任务：

学习坐标系之间的转换
继续阅读整体任务论文 + 强化学习的论文 


# 方向调研

协同制导 & 编队控制


# 基础学习

## 基础概念

### 制导

***1. 什么是制导？***：

`制导：导引和控制飞行器按一定规律飞向目标或预定轨道的技术和方法。`
`导弹制导：利用不同的方式，选择飞行路线，将具有动力飞行的战斗部移动一段距离之后，击中预先设定的目标。`
`制导技术：按照特定基准选择飞行路线，控制和导引武器系统对目标进行攻击的综合性技术`


制导过程中，导引系统不断测定飞行器与目标或预定轨道的相对位置关系，发出制导信息传递给飞行器控制系统，以控制飞行。  *设定运动轨迹*

>飞弹导引是利用预先设定的规则，在飞行与寻找目标的过程中所采取的手段和方法。不同的手段与导引的方式结合在一起就成为飞弹的头脑与控制中枢，也是飞弹能否精确命中目标的决定性因素。


***2. 什么是制导律***：

`制导律（英语：guidance law，也称导引律）指依据导航信息，用以计算如导弹、无人机等飞行器的运行路径，使其能有效到达目标点的算法。是探测、制导与控制的一项重要环节`

制导律是一种算法，用来计算某些无人驾驶飞行器（主要是导弹，广义也可以包括火箭，或者鱼雷、制导炸弹等其他制导武器）的最优飞行/运行路径，目标是使得武器能最有效的通过制导击中目标。 *最优化运动轨迹*

制导律需要考虑的参数包括：目标位置、目标动态（目标运动方向、速度）、发射初态（方向、载体速率、加速度）、飞行器的飞行参数（速度、机动能力等）……。

制导律的应用场景是：武器发射后，能够根据其算法，飞行器在自动控制下灵活准确的抵达一个静态（发射卫星）或动态（攻击敌方机动目标）的目标的方法。

PS：我们所谓激光制导、红外制导与制导律没啥关系，这些指的是定位目标的方式。

#制导律


### 协同制导

***难点***
与导弹协同类似的无人机编队协同问题已有相应实例，而与无人机协同相比，导弹速度更
快，个体间相互通信对实时性要求更强，对通信的限制更多，导弹的控制机构执行能力也受较多
限制，协同制导技术直接决定了导弹的脱靶量与协同攻击的效果

***分类***
在协同制导中，各参战导弹相互配合，其**核心是各导弹间的通信**，以离线或者在线的方式交换各单位的信息，以达到整体配合的作用。根据各参战导弹间在线、离线交流方式的不同，可将协同制导方法分为**开环与闭环式**两类。同理，按是否获取所有弹的信息进行集中处理，可将协同制导分为**集中式与分布式**两类。

***目标***
- 一致性
- 高实时性
- 小通信

***核心技术***
- 目标分配：决定攻击效果的好坏
- 协同制导律：如何制导，决定多枚导弹能否同时击中目标


#### 开环式协同制导


只通过离线信息交换确定各参战导弹的控制指令，各导弹间在发射后**不存在通信手段**，各导弹的位置、速度、姿态信息相对独立，是一种**独立式制导**。

协同的各单位以飞行前**离线设计好的制导律**飞行。在离线设计制导律时，将不同单位的某些状态值，如终端位置、终端到达时间、终端角度、飞行路径点等，设计期望值时取满足特定约束的形式，例如，不同导弹到达时间通常约束为相等，因此，离线设计制导律时各导弹的时间期望为相同的值。

各参战导弹**离线确定期望参数**，这些期望参数是，各弹在飞行期间与其他导弹之间仅有的关联，且不会在线更新。因此设计合适的期望参数是关键。


*评价*：

通过有限的情报以及复杂的作战环境通常无法准确预估这些参数，协同效果难以预估。由于各导弹飞行过程中无法根据其他导弹的信息作出相应控制，在飞行过程中无法根据个体的状态调整整体状态，整体协同效果较差，且该协同方法鲁棒性较差。

开环式协同制导只采用线下规划某些参数，达到末端协同的效果，可以看作是**多弹独立执行任务**，无法体现出弹间信息交流协作的特点


#### 闭环式协同制导

闭环式协同制导引入了各参战导弹间的信息交流，多弹间共享自身所得到的信息；导弹接收其他多弹的信息并且有效整合这些信息，会比只依赖自身数据制导要更为精确，制导所依赖的数据在确定
性、准确度和完整度方面会得到提升。


**协调信息**：飞行过程中通信难度较大，弹间共享数据量有限，通常取`剩余飞行时间`、`速度`等若干状态量作为各导弹获得的额外信息，这些量即协调变量。协调信息还可以有`终端攻击角度`、`终端速度`，或者几者的综合。

目标：各弹通过结合自身信息与协调信息，由本地制导律形成控制指令，最终使各弹的某些状态满足特定要求，例如使到达时间渐近一致。

**弹间传递协调信息**是闭环式协同制导的关键，而各协同制导方法中，协调信息的传递模式以及包含的协调变量不同。按协调信息的链路拓扑结构看，如果协调信息经过集中与统一处理，再分配给其他弹，则称为**集中式协同制导**；若协同信息没有汇集在一弹或者少数弹，而是各弹的信息只在拓扑相邻的弹间传递，则称为**分布式协同制导**。

要求：协调信息分散在各参战单位，协同制导需要设计合理的**信息传递及控制策略**，利用这些信息
使各弹的某些状态达到一致，协同制导对于**一致性**具有较高要求，且需满足**高实时性与小通信量**的要求。

##### 双层协同制导结构

双层协同制导结构，该双层协同制导结构将协同制导中的控制分为两层：分散于各弹的底层导引控制层与处理协调信息的上层协调控制层。

**底层导引控制层**（制导律）： 在收到一致的协调信息后，通过自身的底层制导律产生控制指令。
**上层协调控制层**（协调策略）： 通过协调策略得到一致的协调变量，每个参战弹按照一定的协调变量作出控制以此实现协同。 

> PS： 根据状态量$x_i$和控制量$u_i$可以得到可行协调变量集 $\Theta_i=\left\{\theta \in R_i \mid \theta_i=f\left(x_i, u_i\right)\right\}(f$ 为映射到协调变 量空间的函数), 而控制量 $u_i$ 可以由确定的状态与 协调变量 $\theta_i \in \Theta_i$ 唯一确定, 因此, 如果所有的参 战弹有一致的协调变量, 即 $\theta_1=\theta_2=\cdots=\theta^*$, 在 $u_i=g\left(x_i, \theta_i^*\right)$ 的控制下 $(g$ 为产生控制量的函数 $)$, 系统可实现协同。


双层制导结构可以根据不同的任务需求，选择不同的**制导律与协调策略**，因此具有一定通用性。

##### 领弹-从弹制导结构

在领弹-从弹制导结构中，首先选取适当的领弹，将领弹的`弹目距离`和`前置角`作为其他弹的参
考状态，被领弹跟踪领弹相对目标的运动状态从而作出控制，最终所有弹相对目标的距离与前置
角都逼近领弹，实现协同。

从某种意义上讲，领弹-从弹协同制导是双层协同制导结构的特例，其底层制导律根据自身与领弹的弹目相对运动误差作出控制，上层协调策略直接以领弹与目标的相对运动作为协调变量。领弹-从弹制导中，领弹相对独立，不必经过协调策略便可以得到协调信息，**协同实时性更好**，但一旦领弹发生故障，整个协同制导就会失效，因此，该结构**鲁棒性相对较差**。

#### 集中式协同制导

集中式协同制导的特点在于协调信息，汇集程度高，通常由所有参战弹将协调所必须的状态信息发送到有集中协调功能的单位上，经统一处理后形成一致的协调信息，再由此单位将信息发送至各弹。集中协调功能可以由弹载计算机、地面站等实现。

双层协同制导结构和领弹-从弹制导结构都可以用于集中式协同制导律

集中式协同制导需要集中协调单元与各弹间有信息交流，制导**结构较为简单**，获得**信息较为全面**，可以通过制导律有效快速收敛到期望值，但**通信难度较大**且不利于静默攻击，当集中协调单元只存在于一枚导弹时，该导弹一旦故障，整体协同将失效，故**鲁棒性较差**。



#### 分布式协同制导

分布式协同制导中，各弹只与临近的单位进行信息交流，不需要获取所有弹的信息，可以避免集中式协同存在的通信问题。但由于协调信息中包含的信息不够全面，未能覆盖全体导弹，所以导弹状态的**收敛速度较慢**，在理论上通常需要无限时间才能趋于 一致。


**多个体的一致性**指的是其指定的某些状态趋于一致，在多导弹协同中该一致的状态可以取 `弹目距离`、`攻击时间` 等。

> PS: 
> 弹目距离协同：满足导弹群同时到达目标区域的要求
> 攻击时间协同：满足同时命中目标的要求



#### 不同协同制导方法对比


***分布式协同制导与集中式协同制导相比***
- 其群体状态不依赖某单个导弹，各弹地位平等，因此，鲁棒性更强，
- 且因只需与相邻弹传递信息，其弹间信息交流量较小，弹间沟通成本较低，
- 同时，由于分布式协同制导的各群体大多都采用图论形式描述信息传递结构，多个不同的群体间如果使用同样的分布式协调策略，则可以通过群体间节点的信息交流将多个群体组成新的协同群体，可扩展性强。但集中式协同制导由于集中单元收到所有弹的信息，可直接通过协调策略得到各弹的协调信息，不需要分布式协调，因此，计算协调变量的速度会更快，且各弹直接跟踪集中单元分发的协调信息，收敛速度更快，相比于这一点，分布式协同收敛较慢，理论收敛时间为无限。
- 集中式协同中信息链路的结构相对简单，不必考虑分布式一致性问题，在设计难度上较小，但随着任务需求越来越复杂，导弹群体需要面对复杂多变的作战环境，且作战群体内个体的数量增加时，分布式协同的强鲁棒性与可扩展性意味着有着更广阔的用途。


***两种制导结构对比***
- 领弹-从弹制导结构需要选取满足特定条件的弹作为领弹，当领弹出现故障时整个协同失效，鲁棒性与可靠性较差，相比之下，双层协同制导可以任意选取集中协调单元，也可以有多个协调单元，在分布式双层协同制导时单个协调单元故障不会对整体协同造成很大影响，鲁棒性更强。但领弹-从弹制导作为双层协同的一种特例，其以减少集中协调处理为代价，省去了计算协调信息的时间，使群体交流实时性增强，
- 领弹-从弹结构在扩展群体时，可以任意添加从弹而协调信息处理时间不会增加，制导结构更为简单。
- 双层协同制导的各弹可以使用相同的制导律，也可以使用不同的制导律来实现协同，但领弹-从弹制导结构中的从弹的制导指令要考虑协调信息，而领弹不必，所以，领弹与从弹的制导律不同。


