
## 1. 连杆参数 (Link Parameters)

连杆被视为刚体，其参数决定了机器人的**质量分布**和**外观**。

- **质量 (Mass):** 连杆的重量（单位：kg）。
- **惯性张量 (Inertia Tensor):** 描述连杆旋转难易程度的矩阵。
- **质心偏移 (Center of Mass Offset):** 质心相对于连杆坐标系原点的位置。
- **几何描述 (Geometry/Visual):**
    - **Visual（外观）**：用于显示的 3D 模型（如 STL、OBJ 文件）。
    - **Collision（碰撞体）**：用于物理引擎计算碰撞的简化几何体（通常用球体或圆柱体，以节省算力）。

### 惯性参数组成

对于一个刚体，我们通常用 10个独立参数来描述其惯性特性：
- **$m$** (1个参数)：刚体的总质量。
- **$h = mc = [h_x, h_y, h_z]^\top$** (3个参数)：**一阶质量矩**。其中 $c$ 是质心（CoM）相对于坐标原点的位置。
- **$I$** (6个参数)：相对于坐标原点的**转动惯量张量**（一个 $3 \times 3$ 的对称矩阵，包含 $I_{xx}, I_{yy}, I_{zz}$ 及三个惯性积）

### 惯性矩阵

这是我们最熟悉的表达方式，描述刚体绕坐标原点（或质心）旋转时的惯性。在三维空间中，它是一个 $3 \times 3$ 的对称矩阵：

$$\mathbf{I} = \begin{bmatrix} I_{xx} & I_{xy} & I_{xz} \\ I_{yx} & I_{yy} & I_{yz} \\ I_{zx} & I_{zy} & I_{zz} \end{bmatrix}$$

- **对角线项**：转动惯量（Moments of Inertia），如 $I_{xx} = \int (y^2 + z^2) dm$。
- **非对角线项**：惯性积（Products of Inertia），如 $I_{xy} = -\int xy \, dm$。
- **物理意义**：它直接出现在牛顿-欧拉方程中，用于计算角动量和转矩。
- **局限性**：单独的 $\mathbf{I}$ 不包含质量 ($m$) 和质心 ($c$) 信息。


### 伪惯性矩阵

传统的惯性矩阵 $\mathbf{I}$ 描述的是质量绕轴旋转的特性，而**伪惯性矩阵 $J$**（也被称为密度二阶矩矩阵）是一个 $4 \times 4$ 的对称矩阵。它将质量、质心和旋转特性完美地融合在一起。

其构造形式通常如下：

$$J = \begin{bmatrix} \int \rho x^2 dV & \int \rho xy dV & \int \rho xz dV & \int \rho x dV \\ \int \rho xy dV & \int \rho y^2 dV & \int \rho yz dV & \int \rho y dV \\ \int \rho xz dV & \int \rho yz dV & \int \rho z^2 dV & \int \rho z dV \\ \int \rho x dV & \int \rho y dV & \int \rho z dV & \int \rho dV \end{bmatrix}$$

在机器人学中，它与 $\kappa_{link}$ 的对应关系为：
$$J = \begin{bmatrix} \Sigma & h \\ h^\top & m \end{bmatrix}$$
- **$m$**：标量，刚体总质量。
- **$\mathbf{h}$**：$3 \times 1$ 向量，一阶质量矩（$mc$），包含质心位置信息。
- **$\Sigma$**：$3 \times 3$ 矩阵，称为**密度二阶矩矩阵**。满足关系 $\mathbf{I} = \text{tr}(\Sigma)\mathbf{E}_{3\times3} - \Sigma$。


|**特性**|**惯性矩阵 I**|**伪惯性矩阵 J**|
|---|---|---|
|**维度**|$3 \times 3$|$4 \times 4$|
|**包含信息**|仅旋转惯性|质量 + 质心 + 旋转惯性|
|**物理条件**|满足三角不等式|**正定矩阵** ($J \succ 0$)|
|**主要用途**|动力学仿真、控制计算|机器人参数辨识、形态随机化、优化|


---
## 2. 关节参数 (Joint Parameters)

关节定义了两个连杆之间的**相对运动关系**（父连杆与子连杆）。
- **类型 (Type):**  **Revolute（转动关节）**：最常见，如膝盖、肘部
    - **Prismatic（滑动关节）**：伸缩机构。
    - **Fixed（固定关节）**：将两个零件焊死。
- **安装位置 (Origin/Offset):** 关节坐标系相对于父连杆坐标系的平移和旋转。
- **运动轴 (Axis):** 关节绕哪个轴转动（如绕 Z 轴 $0, 0, 1$）。
- **限位 (Limits):** 角度范围：最大/最小转动角度（防止“骨折”）。
    - **速度上限**：电机支持的最大转速。
    - **力矩上限 (Effort Limit)**：电机能输出的最大扭矩。
- **动力学特性:**
    - **摩擦力 (Friction)**：关节运动时的阻力。
    - **阻尼 (Damping)**：随速度增加而产生的阻力。

# 平行轴定理

在机器人建模中，我们经常知道物体绕其**质心 (CoM)** 的转动惯量 $I_c$，但需要计算绕**关节轴**（偏移距离为 $d$）的转动惯量 $I$。
公式如下：
$$I = I_c + md^2$$
- **$m$**：物体的总质量。
- **$d$**：质心轴与旋转轴之间的垂直距离。

> **提示：** 这一步在计算人形机器人大腿旋转时的惯量时非常关键，因为旋转中心在胯部关节，而质心在腿部中间。