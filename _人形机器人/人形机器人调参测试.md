
# 机器人参数调整

- **机器人质心**
	- 真机机器人质心偏前时，可以在训练时将质心往前调。




- **摩擦系数** [[人形机器人本体#摩擦特性]]
	- 静摩擦
	- 动态摩擦
- **KP、KD 设置**：悬空正弦，看什么 kpkd 参数不会引起机器的震动
- **延迟**
	- L 12 的上下行延迟：5 ms；电机响应延迟：5 ms
	- 如果仿真延迟大于真机延迟：机器人可能会“过度预测”或反应过快，导致多余或不必要的动作，出现“过调节”的现象，因为仿真时延较高的情况下，策略会有意地预测和适应延迟，而在实机中这种预测会导致多余的修正
	- 如果仿真延迟小于真机延迟：这种策略可能无法及时响应环境变化，强化学习算法获得的反馈也会滞后，导致反应不足或动作延迟，导致机器人动作与反馈无法匹配，从而导致策略性能下降，尤其是在动态环境或需要快速响应的任务中。
- **Sim 2 Real Gap**：根据真机的表现和数据曲线，去调整仿真的参数（摩擦和惯量）, 使其和真机相对应，根据调整的这些参数再去重新设置训练的参数。
- **减速器内外环不对齐**：当发生较大冲击后，减速器的内外环编码器读数发生偏移。大冲击力会对减速器内部的齿轮组或轴产生扭转，使得原本对齐的内外环产生相对位移。
	- 解决方法： 
	1. 通过软件设置检测到冲击后，自动重新对齐内外环编码器。
	2. 使用双编码器（分别测量内环和外环的位置）来检测误差，并通过算法进行误差补偿。



**机器测试流程**：
- 失能状态：摆动各个关节方向，看是否各个关节方向与期望方向相对应
- 使能状态：
	- 单关节正弦测试
	- 零位站立切换
	- 悬空 RL 测试
	- 落地 RL 测试